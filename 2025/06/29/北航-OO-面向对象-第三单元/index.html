<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>北航 OO 面向对象 第三单元 | lucky-sheltered-boy's Blog</title><meta name="author" content="Jiyuan Zhao"><meta name="copyright" content="Jiyuan Zhao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本单元重点学习了JML规格代码的书写、阅读，以及体验规格化设计实现。本单元学习的内容可谓是金刚钻，也许将来在工作的时候不一定会用到，但是掌握一项高专业化的能力不是一件坏事，况且一旦用到了那我们便能得心应手的应对，因此也是要好好对待JML的！  1. 测试过程1.1 单元测试单元测试指的是，对软件中的函数、方法或类进行正确性验证。通过验证程序的函数是否正确，能够尽早发现代码逻辑错误，隔离缺陷，方便">
<meta property="og:type" content="article">
<meta property="og:title" content="北航 OO 面向对象 第三单元">
<meta property="og:url" content="http://example.com/2025/06/29/%E5%8C%97%E8%88%AA-OO-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%AC%AC%E4%B8%89%E5%8D%95%E5%85%83/index.html">
<meta property="og:site_name" content="lucky-sheltered-boy&#39;s Blog">
<meta property="og:description" content="本单元重点学习了JML规格代码的书写、阅读，以及体验规格化设计实现。本单元学习的内容可谓是金刚钻，也许将来在工作的时候不一定会用到，但是掌握一项高专业化的能力不是一件坏事，况且一旦用到了那我们便能得心应手的应对，因此也是要好好对待JML的！  1. 测试过程1.1 单元测试单元测试指的是，对软件中的函数、方法或类进行正确性验证。通过验证程序的函数是否正确，能够尽早发现代码逻辑错误，隔离缺陷，方便">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
<meta property="article:published_time" content="2025-06-29T13:11:02.000Z">
<meta property="article:modified_time" content="2025-06-30T10:01:06.292Z">
<meta property="article:author" content="Jiyuan Zhao">
<meta property="article:tag" content="面向对象">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "北航 OO 面向对象 第三单元",
  "url": "http://example.com/2025/06/29/%E5%8C%97%E8%88%AA-OO-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%AC%AC%E4%B8%89%E5%8D%95%E5%85%83/",
  "image": "http://example.com/img/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg",
  "datePublished": "2025-06-29T13:11:02.000Z",
  "dateModified": "2025-06-30T10:01:06.292Z",
  "author": [
    {
      "@type": "Person",
      "name": "Jiyuan Zhao",
      "url": "http://example.com/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2025/06/29/%E5%8C%97%E8%88%AA-OO-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%AC%AC%E4%B8%89%E5%8D%95%E5%85%83/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '北航 OO 面向对象 第三单元',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">lucky-sheltered-boy's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">北航 OO 面向对象 第三单元</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">北航 OO 面向对象 第三单元</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-06-29T13:11:02.000Z" title="Created 2025-06-29 21:11:02">2025-06-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-06-30T10:01:06.292Z" title="Updated 2025-06-30 18:01:06">2025-06-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p>本单元重点学习了JML规格代码的书写、阅读，以及体验规格化设计实现。本单元学习的内容可谓是金刚钻，也许将来在工作的时候不一定会用到，但是掌握一项高专业化的能力不是一件坏事，况且一旦用到了那我们便能得心应手的应对，因此也是要好好对待JML的！</p>
</blockquote>
<h1 id="1-测试过程"><a href="#1-测试过程" class="headerlink" title="1. 测试过程"></a>1. 测试过程</h1><h4 id="1-1-单元测试"><a href="#1-1-单元测试" class="headerlink" title="1.1 单元测试"></a>1.1 <strong>单元测试</strong></h4><p>单元测试指的是，<mark>对软件中的函数、方法或类进行正确性验证</mark>。通过验证程序的函数是否正确，能够尽早发现代码逻辑错误，隔离缺陷，方便代码重构。单元测试过程自动化程度高，执行速度快，定位问题准确，成本最低。<mark>在我的程序中，我使用JUnit来进行单元测试，测试函数行为</mark>。</p>
<h4 id="1-2-功能测试"><a href="#1-2-功能测试" class="headerlink" title="1.2 **功能测试"></a>1.2 **功能测试</h4><p>功能测试是指，基于软件需求规格说明书对软件功能进行验证。<mark>关注“软件做什么”，而不是“怎么做”</mark>。主要以黑盒测试为主，根据需求文档设计测试用例。在自动化测试的同时也包含大量手动测试，需要手搓一些极端样例来保证代码在极端情况下的健壮性。<mark>在我的程序中，我手搓了很多极端数据来保证函数功能的正确实现</mark>。</p>
<h4 id="1-3-集成测试"><a href="#1-3-集成测试" class="headerlink" title="1.3 集成测试"></a>1.3 <strong>集成测试</strong></h4><p> 集成测试指的是，<mark>将通过单元测试的各个模块组合起来进行测试</mark>，重点关注模块之间的接口、交互和数据流，旨在发现模块之间由于接口不匹配、参数类型不一致、参数传递错误等引起的缺陷。验证组合后的模块协同工作是否正常。<mark>在我的程序中，我构建了一个验证场景，并调用了多个类的方法来测试</mark>。</p>
<h4 id="1-4-压力测试"><a href="#1-4-压力测试" class="headerlink" title="1.4 压力测试"></a>1.4 <strong>压力测试</strong></h4><p>压力测试是指，<mark>在超出系统正常运行负荷的极限条件下对软件进行测试</mark>，例如极高的并发用户数、大数据量等。其目的是为了检验程序在极端情况下的健壮性，模拟真实场景中的极端情况，保证程序的稳定，评估程序的抗压性能。主要测试方式就是短时间内大量输入。在我的程序中，<mark>我采用了大量输入测试的方式来评估程序抗压能力，同时手搓了卡TLE的极端数据</mark>。</p>
<h4 id="1-5-回归测试"><a href="#1-5-回归测试" class="headerlink" title="1.5 回归测试"></a>1.5 <strong>回归测试</strong></h4><p>回归测试指的是，在软件发生变更后，如修复了 Bug、新增了功能，<mark>需要重新运行原有测试用例</mark>，以确认这些变更没有引入新的bug或改变了原有已经正常工作的功能。<mark>在我的程序中，我沿用了之前的JUnit测试代码来进行回归测试</mark>。</p>
<h3 id="1-6-数据构造策略"><a href="#1-6-数据构造策略" class="headerlink" title="1.6 数据构造策略"></a>1.6 数据构造策略</h3><p>我认为数据构造应该包含以下几个层级：1. 对代码正确性进行全面测试。 2. 对极端情况进行手搓构造。 3. 对代码进行压力测试。  </p>
<ol>
<li><p><strong>对代码正确性进行全面测试</strong>。这一部分需要生成广泛的数据，来尽可能从测试最多的方法，触发每一种情况。每一种情况不要求深度测试，但是要求每一种情况都尽量测试到，求广度和不求深度。为了满足这种需求，这一部分数据生成可以采用随机数据生成，利用随机数据生成器来生成大量的数据，并进行大量的生成测试，通过增加数据量来提高方法测试覆盖率。  </p>
</li>
<li><p><strong>对极端情况进行手搓构造</strong>。这部分需要根据一些方法的易错点来手搓一些极端情况，来验证代码的正确性。我在这一部分首先观察所有方法在实现中较难、较复杂的地方，然后手动构造一些触发这些复杂情况的数据来验证代码的行为。</p>
</li>
<li><p><strong>对代码进行压力测试</strong>。这部分我会对那些实现复杂度较高的方法进行压力测试，构造一个能够是其复杂度最高的场景，然后大量调用该方法，来测试其在极端情况下的健壮性。</p>
</li>
</ol>
<h1 id="2-大模型使用经验"><a href="#2-大模型使用经验" class="headerlink" title="2. 大模型使用经验"></a>2. 大模型使用经验</h1><p>在本单元，我尝试过使用大模型来书写JML规格、根据JML规格来生成代码、验证我实现的代码是否符合JML规格要求。在这过程中，我总结了一些经验。</p>
<ol>
<li><p><strong>使用大模型来书写JML规格</strong>。在这部分，我们首先需要将已有方法的JML规格投喂给大模型，这样大模型能够熟悉我们想要的JML的模板和样例，同时明确方法与方法之间的关系，这样生成的JML才能更加准确。其次，大模型很难一次性生成完美的JML，因此我们需要再把大模型之前的输出重复投喂给大模型，并且每次家伙是那个一些改动的prompt，让大模型不断微调。</p>
</li>
<li><p><strong>使用大模型来根据JML书写代码</strong>。在这部分，同样需要先把已有的所有JML和Java代码投喂给大模型，让其先学习、适应我们的JML规格、JML与Java代码之间的关系，然后再告知大模型我们想要他生成的方法代码和对应的JML样例，让其仿照其余方法来生成。</p>
</li>
<li><p><strong>使用大模型来验证Java代码是否符合JML规格</strong>。这部分也需要先把其他方法的JML和Java代码投喂给AI，这样AI才知道我们需要让他生成的方法中所设计的成员、方法都是什么含义，能够更精准的检验我们代码的准确度。</p>
</li>
</ol>
<h1 id="3-架构设计及图模型构建和维护策略"><a href="#3-架构设计及图模型构建和维护策略" class="headerlink" title="3. 架构设计及图模型构建和维护策略"></a>3. 架构设计及图模型构建和维护策略</h1><p>在本单元，我的代码架构如下图所示：  </p>
<p><img src="image.png" alt="alt text"></p>
<p>重点在于根据JML规格来完成接口方法的实现，并采取高内聚-低耦合的原则来明确划分代码职责，每个类完成各自的任务，并相互配合关联。  </p>
<p>在存储图的时候，<mark>我采用的是类似链表邻接表的形式</mark>。其中图的节点就是Person，而边则代表Person之间的Relation，边的权重就是Value。在每个Person中，我采用了HashMap来存储与该Person有关系的Acquaintance，其中因为network中出现的任何person的id都是唯一的，因此可以用person的id作为键值，而person的引用作为映射，从而可以根据id来O(1)查找对应的acquaintance。<br>在维护图的时候，主要是根据一些能够改变person之间关系的方法来去维护。比如在addRelation的时候，需要在acquaintance中增加新person的映射关系，或者在modifyRelation的时候来修改value值或者取消映射关系。  </p>
<p>几乎所有的维护工作都是在增加、减少、修改这三种操作的时候进行的，因此在考虑维护图的时候，也是先找出所有会增加、减少、修改关系的方法，然后在这些方法执行过程中去维护图的关系。  </p>
<h1 id="4-性能分析"><a href="#4-性能分析" class="headerlink" title="4. 性能分析"></a>4. 性能分析</h1><p>在本次作业中，有多个方法可能会出现因实现复杂度过高而导致的性能问题，必须加以优化，否则可能会超时。这里我将列举一些有必要的优化，来帮助大家体会思考优化的过程。  </p>
<h4 id="4-1-query-triple-sum-优化"><a href="#4-1-query-triple-sum-优化" class="headerlink" title="4.1 query_triple_sum 优化"></a>4.1 query_triple_sum 优化</h4><p>在第一次作业中，出现了一个看起来很简单，但实际上需要认真优化的方法：</p>
<p><img src="image-1.png" alt="alt text"></p>
<p>该方法的JML规格写的非常简单，但是暗藏玄机。如果我们真的按照JML的引导，通过三层for循环来实现该方法，那么复杂度将会是O(n^3)，在强测一万条指令的狂轰滥炸下，这肯定会超时的。因此我们需要巧妙地进行维护，来使得查询复杂度是O(1)，维护复杂度是O(n)，这样做可以把复杂度均摊到每一步方法中，而不是集中堆叠在某一个方法中。</p>
<p>具体来说，我们可以维护一个tripleSum，这样每次查询只需要返回该值即可。维护的过程也很简单：注意到，三元环的形成需要先有两条边相交，然后补齐第三条边，因此我们在每次补齐边的时候，可以遍历两个节点，看看这两个person有没有相同的acquaintance，如果有，那么就会多一个三元环。在删除关系的时候也同理，看看删除关系的两个person是否有相同的acquaintance，如果有那么就少一个三元环。</p>
<h4 id="4-2-query-couple-sum-优化"><a href="#4-2-query-couple-sum-优化" class="headerlink" title="4.2 query_couple_sum 优化"></a>4.2 query_couple_sum 优化</h4><p>在第二次作业中，出现了qcs这个方法。该方法的JML规格如下：</p>
<p><img src="image-2.png" alt="alt text"></p>
<p>如果无脑按照JML规格去实现，用两层for循环遍历，那么复杂度将会是O(n^2)，由于该方法还要调用queryBestAcquaintance，因此在极端情况下也会变成O(n^3)，因此需要对该方法进行优化。</p>
<p>注意到该方法主要是寻找两个人，这两个人的qba是彼此，因此我们不用遍历所有的两人组合，只需要对每个人遍历，看看这个人的qba的qba是否是他自己即可。这样就把复杂度优化到了O(n)，然后对qba采取维护的方式，这样就可以用O(1)复杂度来查询qba，有效降低了时间复杂度。</p>
<h4 id="4-3-query-value-sum-优化"><a href="#4-3-query-value-sum-优化" class="headerlink" title="4.3 query_value_sum 优化"></a>4.3 query_value_sum 优化</h4><p>在第二次作业中，还有一个大头优化，那就是qvs。该方法的JML规格如下图所示：</p>
<p><img src="image-3.png" alt="alt text"></p>
<p>该方法最直观的方式就是两层for循环遍历，如果两个person之间isLinked是true，那么就加上value。也可以理解为，将所有彼此isLinked的person的value加两遍。不过目前该方法的复杂度是O(n^2)，如果不优化那么很大概率会TLE。</p>
<p>一种简单的优化方案是遍历边复杂度，也就是第一层for训练遍历tag中的所有person，第二层for循环遍历每个person的acquaintance并检查其是否也在tag中。这种方式巧妙地把复杂度降低成了边复杂度，在person之间关系不多的时候可以很大幅度优化时间。不过这种方式在评测机压力过大的时候仍然会TLE。</p>
<p>所以最稳妥的方式还是采取维护的策略。首先，当tag中加入person或者删除person时，需要遍历tag中与该person有isLinked关系的person，并加上或减去两倍的value。其次，当有两个person之间的关系发生变动时，包括addRelation和modifyRelation，都需要找到同时含有这两个person的tag并进行value变动的维护。</p>
<h4 id="4-4-delete-article-优化"><a href="#4-4-delete-article-优化" class="headerlink" title="4.4 delete_article 优化"></a>4.4 delete_article 优化</h4><p>在第二次作业中，每个person增加了一个属性，是receivedArticle，用来存储该person收到的article。这个容器需要支持以下操作：头部插入，删除某一个元素，获取头部前5个元素，获取全部元素。一般来讲，用LinkedList或ArrayList都能很好的完成以上内容，但是这两个容器的删除操作都是O(n)复杂度。</p>
<p><mark>而且我们还要考虑硬件设备的因素，由于LinkedList是离散存储的，因此在遍历的时候，cache的块缺失率非常高，每次都需要重新填入块，因此实际运行时间要远远多于ArrayList</mark>。而ArrayList在内存中是连续存储的，因此cache命中率更高。</p>
<p>除此以外，我们还可以自己构造一个双向链表，并利用HashMap来实现O(1)查找结点，这样是理论的最优方法。</p>
<h4 id="4-5-规格与实现分离的理解"><a href="#4-5-规格与实现分离的理解" class="headerlink" title="4.5 规格与实现分离的理解"></a>4.5 规格与实现分离的理解</h4><p>在最开始，我对JML有着一些误解，我误认为JML的语言是会在程序运行时也实际运行的，因此还曾困惑JML如何进行编译、执行？后来经过思考和询问，我才逐渐明白，JML只是一种规格描述语言，是写给编程人员看的，用来精准传递需求的媒介，而并非一种实际的程序。</p>
<p><mark>JML提供的是规格，也就是让我们通过阅读JML来理解这个方法到底想要干什么，在什么情况下应该怎么执行等等。明确了这些规格后，我们就要开始实现这个方法，而实现方法的方式有很多，根据个人的选择可以有所不同。而这就是规格与实现想分离的意思</mark>。</p>
<h1 id="5-JUnit-测试"><a href="#5-JUnit-测试" class="headerlink" title="5. JUnit 测试"></a>5. JUnit 测试</h1><p>本单元大规模进行了JUnit的测试，用来检验自己代码实现是否符合JML规格，以及是否能够检查出课程组提供代码的错误。</p>
<p>在编写JUnit代码的时候，我也总结出了很多经验心得。我认为最重要的是：</p>
<p><strong>要严格根据JML规格来编写JUnit代码，并且测试一定要全面细致</strong>。如果该方法有exceptional_behavior，那么首先要根据JML的requires来构造相应的场景样例，然后调用相关方法，用assert检验或者expected来验证该方法是否抛出期待的异常。然后对normal_behavior进行检验，要对每个requires情况都进行构造，并根据JML的相关ensures来逐一验证方法是否满足后置要求。最后，如果该方法强调了assignable \nothing 或者 &#x2F;* @ pure @ * &#x2F; ，那么也要验证该方法调用前后是否发生了变化。</p>
<h1 id="6-本单元学习体会"><a href="#6-本单元学习体会" class="headerlink" title="6. 本单元学习体会"></a>6. 本单元学习体会</h1><p>本单元的学习让我对JML规格有了更深入的体会，同时也让我学了一些算法的知识。尽管JML不一定会在将来工作中用到，但是一旦使用到，那么我们就具有绝对的优势。同时在撰写需求规格说明书的时候，也可以用到JML的思想和结构来书写，以保证需求的全面严谨细致。最后，经过本单元的学习，我们都是手握金刚钻的人才，希望我们能够好好发挥强大的本领，在以后的工作生活中有所贡献！</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://example.com">Jiyuan Zhao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/2025/06/29/%E5%8C%97%E8%88%AA-OO-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%AC%AC%E4%B8%89%E5%8D%95%E5%85%83/">http://example.com/2025/06/29/%E5%8C%97%E8%88%AA-OO-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%AC%AC%E4%B8%89%E5%8D%95%E5%85%83/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">面向对象</a></div><div class="post-share"><div class="social-share" data-image="/img/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/06/29/OS-shell-%E6%8C%91%E6%88%98%E6%80%A7%E4%BB%BB%E5%8A%A1/" title="OS shell 挑战性任务"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">OS shell 挑战性任务</div></div><div class="info-2"><div class="info-item-1"> 我实现挑战性任务的顺序并不是按照题目顺序，而是根据我认为的合理顺序来实现的，实验报告也将按照我实现指令的顺序来书写。  重写 sh.c 架构指导书中提出， Shell是一种命令解释器，对输入指令进行解析并执行。现有MOS实现的Shell较为简陋，如果在其基础上尝试实现挑战性任务内容可能复杂度较高，可以参考sh,bash等工业界shell实现原理进行重新实现，以下是一个可行的实现方案:  因此，我第一步先按照上述架构把 sh.c...</div></div></div></a><a class="pagination-related" href="/2025/06/29/%E5%8C%97%E8%88%AA-OO-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%AC%AC%E5%9B%9B%E5%8D%95%E5%85%83/" title="北航 OO 面向对象 第四单元"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">北航 OO 面向对象 第四单元</div></div><div class="info-2"><div class="info-item-1"> 转眼间，这趟面向对象程序设计的奇幻漂流也迎来了尾声。从第一单元初入茅庐的“表达式解析”，到第二单元扑朔迷离的“多线程电梯风云录”，再到第三单元严谨到令人发指的“JML”，直至本单元的图书馆怪谈“UML”，我历经了风雨的洗礼，变得更强、更稳、更有经验了。这篇博客是对第四单元和整个OO旅程的一次深度复盘与未来展望。   ✨ 我的OO航海日志·珍藏版索引 ✨   第一站：表达式求导的OO启蒙——递归下降与多项式的爱恨情仇  第二站：多线程电梯与并发设计的狂想曲——锁与调度的极致拉扯  第三站：JML规格与社交网络图的精妙构建——在规格的镣铐中起舞   一、本单元所实践的正向建模与开发第四单元主要是设计UML图，并利用画好的UML图来实现一个图书馆管理系统。其中，我们应当采取正向建模的方式来完成作业。 **正向建模的核心奥义：“先有蓝图，再盖大楼”，在本单元的图书馆建设中体现得淋漓尽致：  解读指导书内容:  首先，要得把图书馆的规则理解透彻：书籍如何分类、学生如何借阅、预约、还书，信用分又是如何计算的，以及图书馆每日开闭馆时那套庄严的仪式（open() 和...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/06/29/%E5%8C%97%E8%88%AA-OO-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%AC%AC%E5%9B%9B%E5%8D%95%E5%85%83/" title="北航 OO 面向对象 第四单元"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-29</div><div class="info-item-2">北航 OO 面向对象 第四单元</div></div><div class="info-2"><div class="info-item-1"> 转眼间，这趟面向对象程序设计的奇幻漂流也迎来了尾声。从第一单元初入茅庐的“表达式解析”，到第二单元扑朔迷离的“多线程电梯风云录”，再到第三单元严谨到令人发指的“JML”，直至本单元的图书馆怪谈“UML”，我历经了风雨的洗礼，变得更强、更稳、更有经验了。这篇博客是对第四单元和整个OO旅程的一次深度复盘与未来展望。   ✨ 我的OO航海日志·珍藏版索引 ✨   第一站：表达式求导的OO启蒙——递归下降与多项式的爱恨情仇  第二站：多线程电梯与并发设计的狂想曲——锁与调度的极致拉扯  第三站：JML规格与社交网络图的精妙构建——在规格的镣铐中起舞   一、本单元所实践的正向建模与开发第四单元主要是设计UML图，并利用画好的UML图来实现一个图书馆管理系统。其中，我们应当采取正向建模的方式来完成作业。 **正向建模的核心奥义：“先有蓝图，再盖大楼”，在本单元的图书馆建设中体现得淋漓尽致：  解读指导书内容:  首先，要得把图书馆的规则理解透彻：书籍如何分类、学生如何借阅、预约、还书，信用分又是如何计算的，以及图书馆每日开闭馆时那套庄严的仪式（open() 和...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Jiyuan Zhao</div><div class="author-info-description">这里是keshi的博客网站，联系作者：zhaojiyuan0721</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/lucky-sheltered-boy"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/lucky-sheltered-boy" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:23371524@buaa.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E6%B5%8B%E8%AF%95%E8%BF%87%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">1. 测试过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">1.1 单元测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="toc-number">1.0.0.2.</span> <span class="toc-text">1.2 **功能测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95"><span class="toc-number">1.0.0.3.</span> <span class="toc-text">1.3 集成测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95"><span class="toc-number">1.0.0.4.</span> <span class="toc-text">1.4 压力测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-%E5%9B%9E%E5%BD%92%E6%B5%8B%E8%AF%95"><span class="toc-number">1.0.0.5.</span> <span class="toc-text">1.5 回归测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-%E6%95%B0%E6%8D%AE%E6%9E%84%E9%80%A0%E7%AD%96%E7%95%A5"><span class="toc-number">1.0.1.</span> <span class="toc-text">1.6 数据构造策略</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%BD%BF%E7%94%A8%E7%BB%8F%E9%AA%8C"><span class="toc-number">2.</span> <span class="toc-text">2. 大模型使用经验</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8F%8A%E5%9B%BE%E6%A8%A1%E5%9E%8B%E6%9E%84%E5%BB%BA%E5%92%8C%E7%BB%B4%E6%8A%A4%E7%AD%96%E7%95%A5"><span class="toc-number">3.</span> <span class="toc-text">3. 架构设计及图模型构建和维护策略</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">4.</span> <span class="toc-text">4. 性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-query-triple-sum-%E4%BC%98%E5%8C%96"><span class="toc-number">4.0.0.1.</span> <span class="toc-text">4.1 query_triple_sum 优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-query-couple-sum-%E4%BC%98%E5%8C%96"><span class="toc-number">4.0.0.2.</span> <span class="toc-text">4.2 query_couple_sum 优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-query-value-sum-%E4%BC%98%E5%8C%96"><span class="toc-number">4.0.0.3.</span> <span class="toc-text">4.3 query_value_sum 优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-delete-article-%E4%BC%98%E5%8C%96"><span class="toc-number">4.0.0.4.</span> <span class="toc-text">4.4 delete_article 优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-5-%E8%A7%84%E6%A0%BC%E4%B8%8E%E5%AE%9E%E7%8E%B0%E5%88%86%E7%A6%BB%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">4.0.0.5.</span> <span class="toc-text">4.5 规格与实现分离的理解</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-JUnit-%E6%B5%8B%E8%AF%95"><span class="toc-number">5.</span> <span class="toc-text">5. JUnit 测试</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E6%9C%AC%E5%8D%95%E5%85%83%E5%AD%A6%E4%B9%A0%E4%BD%93%E4%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">6. 本单元学习体会</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/30/CPU-P3-design/" title="CPU_P3_design">CPU_P3_design</a><time datetime="2025-06-29T17:38:05.000Z" title="Created 2025-06-30 01:38:05">2025-06-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/29/%E5%8C%97%E8%88%AA-OO-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%AC%AC%E5%9B%9B%E5%8D%95%E5%85%83/" title="北航 OO 面向对象 第四单元">北航 OO 面向对象 第四单元</a><time datetime="2025-06-29T13:12:08.000Z" title="Created 2025-06-29 21:12:08">2025-06-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/29/%E5%8C%97%E8%88%AA-OO-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%AC%AC%E4%B8%89%E5%8D%95%E5%85%83/" title="北航 OO 面向对象 第三单元">北航 OO 面向对象 第三单元</a><time datetime="2025-06-29T13:11:02.000Z" title="Created 2025-06-29 21:11:02">2025-06-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/29/OS-shell-%E6%8C%91%E6%88%98%E6%80%A7%E4%BB%BB%E5%8A%A1/" title="OS shell 挑战性任务">OS shell 挑战性任务</a><time datetime="2025-06-29T12:50:00.000Z" title="Created 2025-06-29 20:50:00">2025-06-29</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Jiyuan Zhao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>